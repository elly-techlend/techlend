{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4"><i class="fas fa-database me-2"></i>Data Management</h2>

  <div class="card shadow-sm p-4 mb-4">
    <h5>Database Backup</h5>
    <p class="text-muted">Download a full backup of your database.</p>
    <a href="{{ url_for('settings.backup_database') }}" class="btn btn-outline-primary">Download Backup</a>
  </div>

  <div class="card shadow-sm p-4 mb-4">
    <h5>Restore from Backup</h5>
    <p class="text-muted">Upload a backup file to restore your system data.</p>
    <form method="POST" action="{{ url_for('settings.restore_database') }}" enctype="multipart/form-data">
      <div class="mb-3">
        <input class="form-control" type="file" name="backup_file" accept=".sql,.zip" required>
      </div>
      <button type="submit" class="btn btn-warning">Restore Backup</button>
    </form>
  </div>

  <div class="card shadow-sm p-4 mb-4">
    <h5>Delete All Data</h5>
    <p class="text-danger">⚠️ This action is irreversible. Proceed with caution.</p>
    <form method="POST" action="{{ url_for('settings.delete_all_data') }}">
      <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete all data? This cannot be undone.')">
        Delete All Data
      </button>
    </form>
  </div>
</div>
{% endblock %}
